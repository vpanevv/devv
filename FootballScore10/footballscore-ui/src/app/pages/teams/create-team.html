<div class="container">
    <div class="pageHead">
        <div>
            <h1 class="h1">Add team</h1>
            <p class="sub">Create a new team for the league.</p>
        </div>
    </div>

    <div *ngIf="error" class="alert error" style="margin-bottom: 12px;">{{ error }}</div>

    <div class="card card-pad formCard">
        <form [formGroup]="form" (ngSubmit)="submit()">
            <div class="field">
                <label class="label">Team name</label>
                <input class="input" formControlName="name" placeholder="e.g. Barcelona" />

                <div class="hint" *ngIf="form.controls['name'].touched && form.controls['name'].invalid">
                    <span *ngIf="form.controls['name'].errors?.['required']">Name is required.</span>
                    <span *ngIf="form.controls['name'].errors?.['minlength']">Min 3 chars.</span>
                    <span *ngIf="form.controls['name'].errors?.['maxlength']">Max 50 chars.</span>
                </div>
            </div>

            <div class="actions">
                <button type="button" class="btn" (click)="cancel()" [disabled]="isSaving">Cancel</button>

                <button class="btn btn-primary" type="submit" [disabled]="isSaving">
                    {{ isSaving ? 'Saving…' : 'Create team' }}
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ✅ Success modal -->
<div *ngIf="successOpen" class="modalOverlay" (click)="closeSuccess()">
    <div class="modalCard" (click)="$event.stopPropagation()">
        <div class="modalHeader">
            <div class="modalBadge">Premier League</div>
            <div class="modalTitle">{{ successTitle }}</div>
            <button class="modalClose" type="button" (click)="closeSuccess()">✕</button>
        </div>

        <div class="modalBody">
            <div class="modalText">{{ successText }}</div>
        </div>

        <div class="modalActions">
            <button class="btn btn-primary" type="button" (click)="closeSuccess()">OK</button>
        </div>
    </div>
</div>